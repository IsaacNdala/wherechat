"use strict";(self["webpackChunkwherechat"]=self["webpackChunkwherechat"]||[]).push([[515],{9515:function(s,e,r){r.r(e),r.d(e,{default:function(){return q}});var a=r(3396),t=r(9242),c=r(7139);const n={class:"search"},i={class:"search__form-container"},o=(0,a._)("h5",{class:"search-title"},"Search For Users",-1),h={class:"mb-2 mt-3"},l=(0,a.Uk)("Results For: "),u={class:"result-search"},m={class:"search__container"},_={key:0,class:"search__items"},d={class:"d-flex align-items-center"},p={class:"search__items__img-container border"},w=["src"],g={class:"search__items__name"},v=(0,a._)("span",{class:"search__items__icon"},[(0,a._)("i",{class:"fi fi-rr-comment-alt d-flex"})],-1),f={key:1,class:"text-center show-result"};function k(s,e,r,k,U,y){const D=(0,a.up)("top-navigation"),b=(0,a.up)("router-link"),N=(0,a.up)("bottom-navigation");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(D),(0,a._)("div",i,[o,(0,a._)("form",{onSubmit:e[1]||(e[1]=(0,t.iM)(((...s)=>y.searchUsers&&y.searchUsers(...s)),["prevent"])),class:"mt-3"},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>U.search=s),type:"search",class:"form-control",placeholder:"search..."},null,512),[[t.nr,U.search]])],32),(0,a._)("p",h,[l,(0,a._)("span",u,(0,c.zw)(U.search),1)])]),(0,a._)("div",m,[U.showUsers?((0,a.wg)(),(0,a.iD)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.users,(e=>((0,a.wg)(),(0,a.j4)(b,{key:e._id,to:U.messagePath+e._id,class:"link-list"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("img",{src:s.serverDomain+e.imageUrl,alt:""},null,8,w)]),(0,a._)("span",g,(0,c.zw)(e.firstName)+" "+(0,c.zw)(e.lastName),1)]),v])),_:2},1032,["to"])))),128))])):(0,a.kq)("",!0),U.result?((0,a.wg)(),(0,a.iD)("h5",f,"No results this search!")):(0,a.kq)("",!0)]),(0,a.Wm)(N)])}var U=r(8515),y=r(7925),D=r(6265),b=r.n(D),N=r(4239),Z=r(9749),z={name:"SearchView",components:{BottomNavigation:U.Z,TopNavigation:y.Z},data(){return{users:[],search:null,messagePath:"/messages/",result:!1,showUsers:!1}},computed:{...(0,Z.rn)(["serverDomain"])},watch:{search(s){s||(this.result=!1,this.showUsers=!1)}},methods:{async searchUsers(){try{const s=await b().post(N.Z.state.serverDomain+"user/search-users",{search:this.search},{headers:{Authorization:`Bearer ${N.Z.state.token}`}});this.users=s.data.users,s.data.users.length>0?(this.showUsers=!0,this.result=!1):(this.showUsers=!1,this.result=!0)}catch(s){s.response&&401===s.response.status&&this.$router.push("/login"),s.response&&console.log(s.response.data.msg)}}}},x=r(89);const S=(0,x.Z)(z,[["render",k]]);var q=S}}]);
//# sourceMappingURL=515.eab4d8ab.js.map